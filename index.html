<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="theme-color" content="#d6e8f7" id="theme-color-meta">
<title>Shift Schedule 2026 â€“ Alba</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     THEME VARIABLES
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  [data-theme="light"] {
    --bg: #daeaf6;
    --card-bg: #ffffff;
    --text: #111827;
    --text-secondary: #374151;
    --muted: #9ca3af;
    --border: #e5e7eb;
    --nav-btn: #f3f4f6;
    --nav-btn-hover: #e5e7eb;
    --dow: #6b7280;
    --day-hover: #f0f7ff;
    --today-bg: #1e3a5f;
    --today-text: #ffffff;
    --selected-border: #6b7280;
    --shadow: 0 2px 16px rgba(0,0,0,0.09);
    --shadow-lg: 0 8px 32px rgba(0,0,0,0.12);
    --toggle-bg: #e5e7eb;
    --toggle-text: #374151;
    --shift-A: #1d4ed8;
    --shift-B: #15803d;
    --shift-C: #b91c1c;
    --shift-D: #6d28d9;
    --shift-A-bg: #eff6ff;
    --shift-B-bg: #f0fdf4;
    --shift-C-bg: #fef2f2;
    --shift-D-bg: #f5f3ff;
    --shift-A-border: #bfdbfe;
    --shift-B-border: #bbf7d0;
    --shift-C-border: #fecaca;
    --shift-D-border: #ddd6fe;
    --out-range: #d1d5db;
    --divider: #f3f4f6;
  }
  [data-theme="dark"] {
    --bg: #0d1117;
    --card-bg: #161b27;
    --text: #f1f5f9;
    --text-secondary: #cbd5e1;
    --muted: #64748b;
    --border: #1e2840;
    --nav-btn: #1e2840;
    --nav-btn-hover: #253050;
    --dow: #64748b;
    --day-hover: #1e2840;
    --today-bg: #2563eb;
    --today-text: #ffffff;
    --selected-border: #64748b;
    --shadow: 0 2px 16px rgba(0,0,0,0.35);
    --shadow-lg: 0 8px 32px rgba(0,0,0,0.5);
    --toggle-bg: #1e2840;
    --toggle-text: #94a3b8;
    --shift-A: #60a5fa;
    --shift-B: #4ade80;
    --shift-C: #f87171;
    --shift-D: #c084fc;
    --shift-A-bg: rgba(96,165,250,0.1);
    --shift-B-bg: rgba(74,222,128,0.1);
    --shift-C-bg: rgba(248,113,113,0.1);
    --shift-D-bg: rgba(192,132,252,0.1);
    --shift-A-border: rgba(96,165,250,0.25);
    --shift-B-border: rgba(74,222,128,0.25);
    --shift-C-border: rgba(248,113,113,0.25);
    --shift-D-border: rgba(192,132,252,0.25);
    --out-range: #334155;
    --divider: #1e2840;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     BASE
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  html { -webkit-text-size-adjust: 100%; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    min-height: 100vh;
    min-height: 100dvh;
    transition: background 0.25s, color 0.25s;
    /* Safe area for iPhone notch */
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LAYOUT â€” MOBILE FIRST
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .app {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    min-height: 100dvh;
  }

  /* â”€â”€ Header â”€â”€ */
  .header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1.25rem;
    padding-top: calc(1rem + env(safe-area-inset-top));
    background: var(--card-bg);
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 10;
    transition: background 0.25s, border-color 0.25s;
  }

  .header-left h1 {
    font-size: 1.05rem;
    font-weight: 700;
    color: var(--text);
    letter-spacing: -0.3px;
  }

  .header-left p {
    font-size: 0.7rem;
    color: var(--muted);
    margin-top: 1px;
  }

  .theme-toggle {
    display: flex;
    align-items: center;
    gap: 6px;
    background: var(--toggle-bg);
    border: none;
    border-radius: 20px;
    padding: 7px 13px;
    cursor: pointer;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--toggle-text);
    font-family: inherit;
    transition: background 0.2s, color 0.2s;
    /* Large enough touch target */
    min-height: 36px;
    -webkit-tap-highlight-color: transparent;
  }
  .theme-toggle:hover { opacity: 0.85; }
  .theme-toggle:active { opacity: 0.7; }

  /* â”€â”€ Main content â”€â”€ */
  .main {
    flex: 1;
    padding: 1.25rem 1rem;
    padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
    display: flex;
    flex-direction: column;
    gap: 1rem;
    max-width: 540px;
    width: 100%;
    margin: 0 auto;
  }

  /* â”€â”€ Card â”€â”€ */
  .card {
    background: var(--card-bg);
    border-radius: 18px;
    box-shadow: var(--shadow);
    transition: background 0.25s, box-shadow 0.25s;
    overflow: hidden;
  }

  .card-body { padding: 1.25rem; }

  /* â”€â”€ Calendar nav â”€â”€ */
  .cal-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 1rem;
  }

  .nav-btn {
    background: var(--nav-btn);
    border: none;
    border-radius: 50%;
    width: 40px; height: 40px;
    font-size: 1.2rem;
    cursor: pointer;
    color: var(--text);
    display: flex; align-items: center; justify-content: center;
    transition: background 0.15s;
    font-family: inherit;
    -webkit-tap-highlight-color: transparent;
    /* Larger touch target on mobile */
    position: relative;
  }
  .nav-btn::after {
    content: '';
    position: absolute;
    inset: -8px;
  }
  .nav-btn:hover { background: var(--nav-btn-hover); }
  .nav-btn:active { opacity: 0.7; }

  .month-label {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text);
    letter-spacing: -0.3px;
    user-select: none;
  }

  /* â”€â”€ Calendar grid â”€â”€ */
  .cal-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 2px;
    /* Swipe detection area */
    touch-action: pan-y;
  }

  .dow {
    text-align: center;
    font-size: 0.68rem;
    font-weight: 600;
    color: var(--dow);
    padding: 2px 0 10px;
    user-select: none;
  }

  .day-cell {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    cursor: pointer;
    padding: 6px 2px;
    min-height: 44px; /* Apple HIG minimum touch target */
    border: 1px solid transparent;
    transition: background 0.12s, border-color 0.12s;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    position: relative;
  }

  .day-cell:active:not(.empty) { opacity: 0.7; }

  .day-cell:hover:not(.empty) { background: var(--day-hover); }

  .day-cell.empty {
    cursor: default;
    pointer-events: none;
  }

  .day-num {
    font-size: 0.88rem;
    font-weight: 500;
    color: var(--text);
    line-height: 1;
    width: 32px; height: 32px;
    display: flex; align-items: center; justify-content: center;
    border-radius: 50%;
  }

  .day-cell.is-today .day-num {
    background: var(--today-bg);
    color: var(--today-text);
    font-weight: 700;
  }

  .day-cell.is-selected {
    background: var(--day-hover);
    border-color: var(--selected-border);
  }
  .day-cell.is-selected .day-num { font-weight: 700; }

  .day-cell.out-range .day-num { color: var(--out-range); }

  /* â”€â”€ Result panel â”€â”€ */
  .result-card {
    display: none;
    animation: fadeUp 0.2s ease;
  }
  .result-card.show { display: block; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: none; }
  }

  .result-header {
    padding: 1rem 1.25rem 0.8rem;
    border-bottom: 1px solid var(--divider);
  }

  .result-header .label {
    font-size: 0.68rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    color: var(--muted);
  }

  .result-header .date-str {
    font-size: 1rem;
    font-weight: 700;
    color: var(--text);
    margin-top: 3px;
  }

  .shifts-row {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0;
  }

  .shift-item {
    padding: 1rem 1.25rem;
    display: flex;
    flex-direction: column;
    gap: 4px;
    border-right: 1px solid var(--divider);
    transition: background 0.25s;
  }
  .shift-item:last-child { border-right: none; }

  .shift-item .s-label {
    font-size: 0.65rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: var(--muted);
  }

  .shift-item .s-value {
    font-size: 2rem;
    font-weight: 700;
    line-height: 1;
    letter-spacing: -1px;
  }

  .shift-item.A { background: var(--shift-A-bg); }
  .shift-item.B { background: var(--shift-B-bg); }
  .shift-item.C { background: var(--shift-C-bg); }
  .shift-item.D { background: var(--shift-D-bg); }
  .shift-item.A .s-value { color: var(--shift-A); }
  .shift-item.B .s-value { color: var(--shift-B); }
  .shift-item.C .s-value { color: var(--shift-C); }
  .shift-item.D .s-value { color: var(--shift-D); }

  .no-data {
    padding: 1.2rem;
    color: var(--muted);
    font-size: 0.85rem;
    text-align: center;
  }

  /* â”€â”€ Legend â”€â”€ */
  .legend {
    display: flex;
    gap: 1rem;
    flex-wrap: wrap;
    justify-content: center;
    padding: 0.25rem 0;
  }

  .leg-item {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.72rem;
    font-weight: 500;
    color: var(--muted);
  }

  .leg-dot {
    width: 8px; height: 8px;
    border-radius: 50%;
    flex-shrink: 0;
  }

  /* â”€â”€ Swipe hint â”€â”€ */
  .swipe-hint {
    text-align: center;
    font-size: 0.65rem;
    color: var(--muted);
    margin-top: -0.25rem;
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     DESKTOP LAYOUT (â‰¥ 768px)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (min-width: 768px) {
    .header {
      padding: 1.1rem 2rem;
    }

    .header-left h1 { font-size: 1.15rem; }

    .main {
      max-width: 900px;
      padding: 2rem 2rem;
      flex-direction: row;
      align-items: flex-start;
      gap: 1.5rem;
    }

    .cal-section {
      flex: 1;
      min-width: 0;
    }

    .side-section {
      width: 300px;
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      position: sticky;
      top: 80px;
    }

    .day-cell { min-height: 52px; }

    .day-num { font-size: 0.92rem; width: 34px; height: 34px; }

    .month-label { font-size: 1.2rem; }

    .swipe-hint { display: none; }

    .result-card { display: block !important; animation: none; }

    /* Empty state on desktop */
    .result-card .empty-state {
      padding: 2rem 1.25rem;
      text-align: center;
      color: var(--muted);
      font-size: 0.85rem;
      line-height: 1.5;
    }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LARGE DESKTOP (â‰¥ 1100px)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (min-width: 1100px) {
    .main { max-width: 1000px; }
    .side-section { width: 340px; }
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SMALL MOBILE (< 360px)
  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  @media (max-width: 360px) {
    .day-cell { min-height: 38px; }
    .day-num { font-size: 0.78rem; width: 28px; height: 28px; }
    .card-body { padding: 1rem; }
    .dow { font-size: 0.6rem; }
  }
</style>
</head>
<body>

<div class="app">

  <!-- â”€â”€ Header â”€â”€ -->
  <header class="header">
    <div class="header-left">
      <h1>Shift Schedule</h1>
      <p>Alba Â· 2026</p>
    </div>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
      <span id="theme-icon">ğŸŒ™</span>
      <span id="theme-label">Dark</span>
    </button>
  </header>

  <!-- â”€â”€ Main â”€â”€ -->
  <main class="main">

    <!-- Calendar section -->
    <section class="cal-section">
      <div class="card">
        <div class="card-body">
          <div class="cal-nav">
            <button class="nav-btn" id="prev-btn" aria-label="Previous month">&#8249;</button>
            <div class="month-label" id="month-label"></div>
            <button class="nav-btn" id="next-btn" aria-label="Next month">&#8250;</button>
          </div>
          <div class="cal-grid" id="cal-grid"></div>
        </div>
      </div>
      <p class="swipe-hint">â† swipe to change month â†’</p>
    </section>

    <!-- Side / Result section -->
    <section class="side-section">

      <!-- Result card -->
      <div class="card result-card" id="result-card">
        <!-- Populated by JS -->
        <div class="empty-state" id="empty-state">
          ğŸ‘† Tap a date to<br>see the shift
        </div>
      </div>

      <!-- Legend -->
      <div class="card">
        <div class="card-body">
          <div class="legend">
            <div class="leg-item"><div class="leg-dot" style="background:var(--shift-A)"></div>Shift A</div>
            <div class="leg-item"><div class="leg-dot" style="background:var(--shift-B)"></div>Shift B</div>
            <div class="leg-item"><div class="leg-dot" style="background:var(--shift-C)"></div>Shift C</div>
            <div class="leg-item"><div class="leg-dot" style="background:var(--shift-D)"></div>Shift D</div>
          </div>
        </div>
      </div>

    </section>

  </main>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SCHEDULE LOGIC
//  REF: 30 Dec 2025 = column 0. Each AP = 28 days. 13 APs.
//  8-day cycle: C B B A A D D C
//  Odd APs  (idx 0,2,4,6,8,10,12): S1â†’0, S2â†’5, S3â†’3
//  Even APs (idx 1,3,5,7,9,11):    S1â†’3, S2â†’1, S3â†’7
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CYCLE = ['C','B','B','A','A','D','D','C'];
const REF   = new Date(2025, 11, 30);

const AP_OFFSETS = [
  [0,5,3],[3,1,7],[0,5,3],[3,1,7],[0,5,3],[3,1,7],[0,5,3],
  [3,1,7],[0,5,3],[3,1,7],[0,5,3],[3,1,7],[0,5,3]
];

function getShifts(date) {
  const col = Math.round((date - REF) / 86400000);
  if (col < 0 || col >= 364) return null;
  const ap  = Math.floor(col / 28);
  const pos = col % 28;
  const o   = AP_OFFSETS[ap];
  return {
    s1: CYCLE[((pos + o[0]) % 8 + 8) % 8],
    s2: CYCLE[((pos + o[1]) % 8 + 8) % 8],
    s3: CYCLE[((pos + o[2]) % 8 + 8) % 8],
  };
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CALENDAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const MONTHS = ['January','February','March','April','May','June',
                'July','August','September','October','November','December'];
const DOWS   = ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'];

const today = new Date();
today.setHours(0,0,0,0);

let viewYear  = today.getFullYear();
let viewMonth = today.getMonth();
if (viewYear < 2025 || (viewYear === 2025 && viewMonth < 11)) { viewYear = 2025; viewMonth = 11; }
if (viewYear > 2026) { viewYear = 2026; viewMonth = 11; }

let selDate = null;
const isDesktop = () => window.innerWidth >= 768;

function render() {
  document.getElementById('month-label').textContent = `${MONTHS[viewMonth]}, ${viewYear}`;
  const grid = document.getElementById('cal-grid');
  grid.innerHTML = '';

  // Day-of-week headers
  DOWS.forEach(d => {
    const el = document.createElement('div');
    el.className = 'dow';
    el.textContent = d;
    grid.appendChild(el);
  });

  const firstDate   = new Date(viewYear, viewMonth, 1);
  const startDow    = (firstDate.getDay() + 6) % 7; // Mon = 0
  const daysInMonth = new Date(viewYear, viewMonth + 1, 0).getDate();
  const prevDays    = new Date(viewYear, viewMonth, 0).getDate();

  // Prev month grey fill
  for (let i = 0; i < startDow; i++) {
    const el = makeDayCell(prevDays - startDow + 1 + i, null, true);
    grid.appendChild(el);
  }

  // Current month
  for (let d = 1; d <= daysInMonth; d++) {
    const date  = new Date(viewYear, viewMonth, d);
    const info  = getShifts(date);
    const isToday    = date.getTime() === today.getTime();
    const isSelected = selDate && date.getTime() === selDate.getTime();
    const el = makeDayCell(d, null, false, isToday, isSelected, !info);
    el.addEventListener('click', () => {
      selDate = date;
      render();
      showResult(date, info);
    });
    grid.appendChild(el);
  }

  // Next month grey fill
  const totalCells = startDow + daysInMonth;
  const remaining  = (7 - (totalCells % 7)) % 7;
  for (let i = 1; i <= remaining; i++) {
    const el = makeDayCell(i, null, true);
    grid.appendChild(el);
  }
}

function makeDayCell(num, label, empty, isToday, isSelected, outRange) {
  const el = document.createElement('div');
  const classes = ['day-cell'];
  if (empty)      classes.push('empty', 'out-range');
  if (outRange)   classes.push('out-range');
  if (isToday)    classes.push('is-today');
  if (isSelected) classes.push('is-selected');
  el.className = classes.join(' ');

  const numEl = document.createElement('div');
  numEl.className = 'day-num';
  numEl.textContent = num;
  el.appendChild(numEl);
  return el;
}

// â”€â”€ Result panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function showResult(date, info) {
  const card = document.getElementById('result-card');

  const dayName = date.toLocaleDateString('en-GB', { weekday:'long' });
  const dateStr = date.toLocaleDateString('en-GB', { day:'numeric', month:'long', year:'numeric' });

  if (!info) {
    card.innerHTML = `<div class="no-data">No schedule data for this date.</div>`;
    card.className = 'card result-card show';
    return;
  }

  const shifts = [
    { label:'Shift 1', val: info.s1 },
    { label:'Shift 2', val: info.s2 },
    { label:'Shift 3', val: info.s3 },
  ];

  card.innerHTML = `
    <div class="result-header">
      <div class="label">Selected date</div>
      <div class="date-str">${dayName}, ${dateStr}</div>
    </div>
    <div class="shifts-row">
      ${shifts.map(s => `
        <div class="shift-item ${s.val}">
          <div class="s-label">${s.label}</div>
          <div class="s-value">${s.val}</div>
        </div>
      `).join('')}
    </div>
  `;

  card.className = 'card result-card show';
}

// â”€â”€ Navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function prevMonth() {
  viewMonth--;
  if (viewMonth < 0) { viewMonth = 11; viewYear--; }
  render();
}
function nextMonth() {
  viewMonth++;
  if (viewMonth > 11) { viewMonth = 0; viewYear++; }
  render();
}

document.getElementById('prev-btn').addEventListener('click', prevMonth);
document.getElementById('next-btn').addEventListener('click', nextMonth);

// â”€â”€ Swipe to change month (mobile) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let touchStartX = 0;
let touchStartY = 0;

document.getElementById('cal-grid').addEventListener('touchstart', e => {
  touchStartX = e.touches[0].clientX;
  touchStartY = e.touches[0].clientY;
}, { passive: true });

document.getElementById('cal-grid').addEventListener('touchend', e => {
  const dx = e.changedTouches[0].clientX - touchStartX;
  const dy = e.changedTouches[0].clientY - touchStartY;
  // Only trigger if mostly horizontal swipe (not scroll)
  if (Math.abs(dx) > 50 && Math.abs(dx) > Math.abs(dy) * 1.5) {
    if (dx < 0) nextMonth(); else prevMonth();
  }
}, { passive: true });

// â”€â”€ Keyboard navigation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.addEventListener('keydown', e => {
  if (e.key === 'ArrowLeft')  prevMonth();
  if (e.key === 'ArrowRight') nextMonth();
});

// â”€â”€ Theme toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
let isDark = false;

// Respect system preference on first load
if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
  isDark = true;
  applyTheme();
}

function applyTheme() {
  const theme = isDark ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', theme);
  document.getElementById('theme-icon').textContent  = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
  document.getElementById('theme-label').textContent = isDark ? 'Light' : 'Dark';
  // Update mobile browser chrome color
  document.getElementById('theme-color-meta').content = isDark ? '#0d1117' : '#d6e8f7';
}

function toggleTheme() {
  isDark = !isDark;
  applyTheme();
}

// â”€â”€ Init â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
render();

// Auto-select today on load
selDate = today;
render();
showResult(today, getShifts(today));
</script>
</body>
</html>
